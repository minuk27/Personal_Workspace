{"ast":null,"code":"var _jsxFileName = \"C:\\\\eGovFrame-4.2.0\\\\msaStudy\\\\SecondProject\\\\frontend\\\\src\\\\component\\\\MainPages\\\\MessageSend.js\",\n  _s = $RefreshSig$();\nimport React, { useState, handleSender } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction MessageSend() {\n  _s();\n  const navigate = useNavigate();\n  const [responseMessage, setResponseMessage] = useState(''); //보낸 사람\n  const [sender, setSender] = useState(''); // 보낼 사람\n  const [title, setTitle] = useState(''); // 제목\n  const [message, setMessage] = useState(''); // 메시지 내용  \n  const [serverResponse, setServerResponse] = useState(''); // 서버로부터 받은 값\n\n  const token = localStorage.getItem('accessToken');\n  handleSender(() => {\n    const fetchData = async () => {\n      try {\n        const response = await axios.get('', {\n          headers: {\n            Authorization: `Bearer ${token}` // Authorization 헤더에 토큰 추가\n          }\n        });\n        // 서버 응답 메시지를 상태로 저장\n        setResponseMessage(response.data);\n      } catch (error) {\n        console.error('데이터 가져오기 실패: ', error.response);\n        navigate('/Main/RequestError');\n      }\n    };\n    fetchData();\n  });\n  const handleReceiver = event => {\n    setSender(event.target.value);\n  };\n  const handleTitle = event => {\n    setTitle(event.target.value);\n  };\n  const handleMessage = event => {\n    setMessage(event.target.value);\n  };\n  const handleSubmit = async event => {\n    event.preventDefault();\n    try {\n      // 메시지를 서버로 POST 요청\n      const response = await axios.post('http://localhost:8080/api/messages', {\n        sender,\n        title,\n        message\n      });\n      setResponseMessage(`서버 응답: ${response.data.message}`);\n      setServerResponse(sender); // 보낸 사람으로 서버 응답 값 설정\n      setSender(''); // 입력 필드 초기화\n      setTitle(''); // 입력 필드 초기화\n      setMessage(''); // 입력 필드 초기화\n    } catch (error) {\n      setResponseMessage(`오류 발생: ${error.message}`);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Message Service\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"text\", {\n        children: responseMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: sender,\n        onChange: handleReceiver,\n        placeholder: \"\\uBCF4\\uB0BC \\uC0AC\\uB78C\",\n        required: true,\n        style: {\n          width: '1000px',\n          height: '40px',\n          marginBottom: '10px'\n        } // 100% 너비, 높이 40px\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: title,\n        onChange: handleTitle,\n        placeholder: \"\\uC81C\\uBAA9\",\n        required: true,\n        style: {\n          width: '1000px',\n          height: '40px',\n          marginBottom: '10px'\n        } // 100% 너비, 높이 40px\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        value: message,\n        onChange: handleMessage,\n        placeholder: \"\\uBA54\\uC2DC\\uC9C0\\uB97C \\uC785\\uB825\\uD558\\uC138\\uC694\",\n        required: true,\n        style: {\n          width: '1000px',\n          height: '500px',\n          resize: 'none'\n        } // 너비 100%, 높이 300px, 크기 조절 불가\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        style: {\n          marginTop: '10px',\n          padding: '10px 20px'\n        },\n        children: \"\\uC804\\uC1A1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 11\n    }, this), responseMessage && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: responseMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 31\n    }, this), serverResponse && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"\\uBCF4\\uB0B8 \\uC0AC\\uB78C: \", serverResponse]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 30\n    }, this), \" \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 9\n  }, this);\n}\n_s(MessageSend, \"3Au0ws6zorpHJ4JN6cLqngc9N+4=\", false, function () {\n  return [useNavigate];\n});\n_c = MessageSend;\nexport default MessageSend;\nvar _c;\n$RefreshReg$(_c, \"MessageSend\");","map":{"version":3,"names":["React","useState","handleSender","axios","useNavigate","jsxDEV","_jsxDEV","MessageSend","_s","navigate","responseMessage","setResponseMessage","sender","setSender","title","setTitle","message","setMessage","serverResponse","setServerResponse","token","localStorage","getItem","fetchData","response","get","headers","Authorization","data","error","console","handleReceiver","event","target","value","handleTitle","handleMessage","handleSubmit","preventDefault","post","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","onChange","placeholder","required","style","width","height","marginBottom","resize","marginTop","padding","_c","$RefreshReg$"],"sources":["C:/eGovFrame-4.2.0/msaStudy/SecondProject/frontend/src/component/MainPages/MessageSend.js"],"sourcesContent":["import React, { useState, handleSender } from 'react';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nfunction MessageSend() {\r\n  const navigate = useNavigate();\r\n\r\n  const [responseMessage, setResponseMessage] = useState(''); //보낸 사람\r\n  const [sender, setSender] = useState(''); // 보낼 사람\r\n  const [title, setTitle] = useState(''); // 제목\r\n  const [message, setMessage] = useState(''); // 메시지 내용  \r\n  const [serverResponse, setServerResponse] = useState(''); // 서버로부터 받은 값\r\n\r\n  const token = localStorage.getItem('accessToken');\r\n\r\n  handleSender(() => {\r\n    const fetchData = async () => {\r\n    try {\r\n      const response = await axios.get('', {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`, // Authorization 헤더에 토큰 추가\r\n        }\r\n      });\r\n      // 서버 응답 메시지를 상태로 저장\r\n      setResponseMessage(response.data);\r\n    } catch (error) {\r\n        console.error('데이터 가져오기 실패: ', error.response);\r\n        navigate('/Main/RequestError');\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  })\r\n  \r\n  const handleReceiver = (event) => {\r\n    setSender(event.target.value);\r\n  };\r\n  \r\n  const handleTitle = (event) => {\r\n    setTitle(event.target.value);\r\n  };\r\n  \r\n  const handleMessage = (event) => {\r\n    setMessage(event.target.value);\r\n  };\r\n  \r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    try {\r\n      // 메시지를 서버로 POST 요청\r\n      const response = await axios.post('http://localhost:8080/api/messages', { sender, title, message });\r\n      setResponseMessage(`서버 응답: ${response.data.message}`);\r\n      setServerResponse(sender); // 보낸 사람으로 서버 응답 값 설정\r\n      setSender(''); // 입력 필드 초기화\r\n      setTitle(''); // 입력 필드 초기화\r\n      setMessage(''); // 입력 필드 초기화\r\n    } catch (error) {\r\n      setResponseMessage(`오류 발생: ${error.message}`);\r\n    }\r\n  };\r\n  \r\n    return (\r\n        <div>\r\n            <h1>Message Service</h1>\r\n          <form onSubmit={handleSubmit}>\r\n            <text>\r\n              {responseMessage}\r\n            </text>\r\n            <input\r\n              type=\"text\"\r\n              value={sender}\r\n              onChange={handleReceiver}\r\n              placeholder=\"보낼 사람\"\r\n              required\r\n              style={{ width: '1000px', height: '40px', marginBottom: '10px' }} // 100% 너비, 높이 40px\r\n            />\r\n            <input\r\n              type=\"text\"\r\n              value={title}\r\n              onChange={handleTitle}\r\n              placeholder=\"제목\"\r\n              required\r\n              style={{ width: '1000px', height: '40px', marginBottom: '10px' }} // 100% 너비, 높이 40px\r\n            />\r\n            <textarea\r\n              value={message}\r\n              onChange={handleMessage}\r\n              placeholder=\"메시지를 입력하세요\"\r\n              required\r\n              style={{ width: '1000px', height: '500px', resize: 'none' }} // 너비 100%, 높이 300px, 크기 조절 불가\r\n            />\r\n            <button type=\"submit\" style={{ marginTop: '10px', padding: '10px 20px' }}>전송</button>\r\n          </form>\r\n          {responseMessage && <p>{responseMessage}</p>}\r\n          {serverResponse && <p>보낸 사람: {serverResponse}</p>} {/* 서버로부터 받은 값 표시 */}\r\n        </div>\r\n      );\r\n  }\r\n\r\nexport default MessageSend;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,YAAY,QAAQ,OAAO;AACrD,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,WAAW,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE/C,SAASC,WAAWA,CAAA,EAAG;EAAAC,EAAA;EACrB,MAAMC,QAAQ,GAAGL,WAAW,CAAC,CAAC;EAE9B,MAAM,CAACM,eAAe,EAAEC,kBAAkB,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC;EAC5D,MAAM,CAACW,MAAM,EAAEC,SAAS,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC;EAC1C,MAAM,CAACa,KAAK,EAAEC,QAAQ,CAAC,GAAGd,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC;EACxC,MAAM,CAACe,OAAO,EAAEC,UAAU,CAAC,GAAGhB,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC;EAC5C,MAAM,CAACiB,cAAc,EAAEC,iBAAiB,CAAC,GAAGlB,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC;;EAE1D,MAAMmB,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC;EAEjDpB,YAAY,CAAC,MAAM;IACjB,MAAMqB,SAAS,GAAG,MAAAA,CAAA,KAAY;MAC9B,IAAI;QACF,MAAMC,QAAQ,GAAG,MAAMrB,KAAK,CAACsB,GAAG,CAAC,EAAE,EAAE;UACnCC,OAAO,EAAE;YACPC,aAAa,EAAE,UAAUP,KAAK,EAAE,CAAE;UACpC;QACF,CAAC,CAAC;QACF;QACAT,kBAAkB,CAACa,QAAQ,CAACI,IAAI,CAAC;MACnC,CAAC,CAAC,OAAOC,KAAK,EAAE;QACZC,OAAO,CAACD,KAAK,CAAC,eAAe,EAAEA,KAAK,CAACL,QAAQ,CAAC;QAC9Cf,QAAQ,CAAC,oBAAoB,CAAC;MAChC;IACF,CAAC;IAEDc,SAAS,CAAC,CAAC;EACb,CAAC,CAAC;EAEF,MAAMQ,cAAc,GAAIC,KAAK,IAAK;IAChCnB,SAAS,CAACmB,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC;EAC/B,CAAC;EAED,MAAMC,WAAW,GAAIH,KAAK,IAAK;IAC7BjB,QAAQ,CAACiB,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC;EAC9B,CAAC;EAED,MAAME,aAAa,GAAIJ,KAAK,IAAK;IAC/Bf,UAAU,CAACe,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC;EAChC,CAAC;EAED,MAAMG,YAAY,GAAG,MAAOL,KAAK,IAAK;IACpCA,KAAK,CAACM,cAAc,CAAC,CAAC;IACtB,IAAI;MACF;MACA,MAAMd,QAAQ,GAAG,MAAMrB,KAAK,CAACoC,IAAI,CAAC,oCAAoC,EAAE;QAAE3B,MAAM;QAAEE,KAAK;QAAEE;MAAQ,CAAC,CAAC;MACnGL,kBAAkB,CAAC,UAAUa,QAAQ,CAACI,IAAI,CAACZ,OAAO,EAAE,CAAC;MACrDG,iBAAiB,CAACP,MAAM,CAAC,CAAC,CAAC;MAC3BC,SAAS,CAAC,EAAE,CAAC,CAAC,CAAC;MACfE,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC;MACdE,UAAU,CAAC,EAAE,CAAC,CAAC,CAAC;IAClB,CAAC,CAAC,OAAOY,KAAK,EAAE;MACdlB,kBAAkB,CAAC,UAAUkB,KAAK,CAACb,OAAO,EAAE,CAAC;IAC/C;EACF,CAAC;EAEC,oBACIV,OAAA;IAAAkC,QAAA,gBACIlC,OAAA;MAAAkC,QAAA,EAAI;IAAe;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAC1BtC,OAAA;MAAMuC,QAAQ,EAAER,YAAa;MAAAG,QAAA,gBAC3BlC,OAAA;QAAAkC,QAAA,EACG9B;MAAe;QAAA+B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACZ,CAAC,eACPtC,OAAA;QACEwC,IAAI,EAAC,MAAM;QACXZ,KAAK,EAAEtB,MAAO;QACdmC,QAAQ,EAAEhB,cAAe;QACzBiB,WAAW,EAAC,2BAAO;QACnBC,QAAQ;QACRC,KAAK,EAAE;UAAEC,KAAK,EAAE,QAAQ;UAAEC,MAAM,EAAE,MAAM;UAAEC,YAAY,EAAE;QAAO,CAAE,CAAC;MAAA;QAAAZ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACnE,CAAC,eACFtC,OAAA;QACEwC,IAAI,EAAC,MAAM;QACXZ,KAAK,EAAEpB,KAAM;QACbiC,QAAQ,EAAEZ,WAAY;QACtBa,WAAW,EAAC,cAAI;QAChBC,QAAQ;QACRC,KAAK,EAAE;UAAEC,KAAK,EAAE,QAAQ;UAAEC,MAAM,EAAE,MAAM;UAAEC,YAAY,EAAE;QAAO,CAAE,CAAC;MAAA;QAAAZ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACnE,CAAC,eACFtC,OAAA;QACE4B,KAAK,EAAElB,OAAQ;QACf+B,QAAQ,EAAEX,aAAc;QACxBY,WAAW,EAAC,yDAAY;QACxBC,QAAQ;QACRC,KAAK,EAAE;UAAEC,KAAK,EAAE,QAAQ;UAAEC,MAAM,EAAE,OAAO;UAAEE,MAAM,EAAE;QAAO,CAAE,CAAC;MAAA;QAAAb,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC9D,CAAC,eACFtC,OAAA;QAAQwC,IAAI,EAAC,QAAQ;QAACI,KAAK,EAAE;UAAEK,SAAS,EAAE,MAAM;UAAEC,OAAO,EAAE;QAAY,CAAE;QAAAhB,QAAA,EAAC;MAAE;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACjF,CAAC,EACNlC,eAAe,iBAAIJ,OAAA;MAAAkC,QAAA,EAAI9B;IAAe;MAAA+B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,EAC3C1B,cAAc,iBAAIZ,OAAA;MAAAkC,QAAA,GAAG,6BAAO,EAACtB,cAAc;IAAA;MAAAuB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,EAAC,GAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAChD,CAAC;AAEZ;AAACpC,EAAA,CA7FMD,WAAW;EAAA,QACDH,WAAW;AAAA;AAAAqD,EAAA,GADrBlD,WAAW;AA+FpB,eAAeA,WAAW;AAAC,IAAAkD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}